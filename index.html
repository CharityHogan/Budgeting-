<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Budget Tracker</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
  <style>
    .gradient-modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      overflow: auto;
    }
    .gradient-modal.active {
      display: block;
    }
    .gradient-modal-content {
      position: relative;
      margin: 2% auto;
      width: 95%;
      max-width: 1200px;
      max-height: 90vh;
      overflow-y: auto;
    }
    .gradient-close {
      position: absolute;
      top: 20px;
      right: 30px;
      color: #fff;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      z-index: 10000;
      background: rgba(0,0,0,0.5);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
    }
    .gradient-close:hover {
      background: rgba(0,0,0,0.8);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>
        <img src="images/moneybag.jpeg" alt="Money Bag" width="25px" height="25px" style="vertical-align: middle; margin-right: 8px;"> 
         Smart Budget Tracker
      </h1>
      <p>Track your expenses and stay on budget</p>
      <button onclick="openGradientModal()" style="margin-top: 15px; padding: 10px 20px; background: linear-gradient(90deg, #FF6B6B, #4ECDC4); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 14px; box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
        ðŸŽ¨ Custom Color Picker
      </button>
    </header>

    <div class="card">
      <h2>Add New Expense</h2>
      <form id="expense-form">
        <div class="form-grid">
          <input type="text" id="expense-name" placeholder="Expense Name" required>
          <input type="number" id="expense-amount" placeholder="Amount" step="0.01" min="0" required>
          <select id="expense-category" required>
            <option value="">Select Category</option>
          </select>
          <button type="submit">Add Expense</button>
        </div>
      </form>
    </div>

    <div class="card">
      <h2>Summary</h2>
      <div class="summary-grid">
        <div class="summary-card">
          <h3>Total Expenses</h3>
          <div class="amount">$<span id="total-expenses">0.00</span></div>
        </div>
        <div class="summary-card">
          <h3>Total Items</h3>
          <div class="amount"><span id="total-items">0</span></div>
        </div>
        <div class="summary-card">
          <h3>Average Expense</h3>
          <div class="amount">$<span id="avg-expense">0.00</span></div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Spending by Category</h2>
      <div class="chart-container" id="category-chart"></div>
    </div>

    <div class="card">
      <h2>Expense List</h2>
      <div class="filter-section">
        <select id="filter-category">
          <option value="">All Categories</option>
        </select>
      </div>
      <ul class="expense-list" id="expenses"></ul>
    </div>

    <footer>
      <p>&copy; 2025 Charity Hogan Smart Budget Tracker | Data stored locally in your browser</p>
    </footer>
  </div>

  <!-- Edit Modal -->
  <div class="modal" id="edit-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Edit Expense</h2>
        <div class="modal-close" id="modal-close-btn">âœ•</div>
      </div>
      <form id="edit-form">
        <div style="display: flex; flex-direction: column; gap: 1rem;">
          <input type="text" id="edit-name" placeholder="Expense Name" required>
          <input type="number" id="edit-amount" placeholder="Amount" step="0.01" min="0" required>
          <select id="edit-category" required>
            <option value="">Select Category</option>
          </select>
          <button type="submit">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Gradient Generator Modal -->
  <div id="gradient-modal" class="gradient-modal">
    <span class="gradient-close" onclick="closeGradientModal()">&times;</span>
    <div class="gradient-modal-content">
      <div id="gradient-root"></div>
    </div>
  </div>

  <script type="text/babel">
    const { useState } = React;
    const { Copy, Plus, Trash2 } = lucide;

    function GradientGenerator() {
      const [gradientType, setGradientType] = useState('linear');
      const [angle, setAngle] = useState(90);
      const [colorMode, setColorMode] = useState('light');
      const [colors, setColors] = useState([
        { color: '#FF6B6B', position: 0 },
        { color: '#4ECDC4', position: 100 }
      ]);

      const colorModes = {
        light: { bg: 'bg-gray-50', card: 'bg-white', text: 'text-gray-900', border: 'border-gray-200' },
        dark: { bg: 'bg-gray-900', card: 'bg-gray-800', text: 'text-gray-100', border: 'border-gray-700' },
        blue: { bg: 'bg-blue-50', card: 'bg-blue-100', text: 'text-blue-900', border: 'border-blue-300' },
        green: { bg: 'bg-green-50', card: 'bg-green-100', text: 'text-green-900', border: 'border-green-300' },
        red: { bg: 'bg-red-50', card: 'bg-red-100', text: 'text-red-900', border: 'border-red-300' },
        pink: { bg: 'bg-pink-50', card: 'bg-pink-100', text: 'text-pink-900', border: 'border-pink-300' },
        orange: { bg: 'bg-orange-50', card: 'bg-orange-100', text: 'text-orange-900', border: 'border-orange-300' },
        purple: { bg: 'bg-purple-50', card: 'bg-purple-100', text: 'text-purple-900', border: 'border-purple-300' }
      };

      const currentTheme = colorModes[colorMode];

      const addColor = () => {
        const newPosition = colors.length > 0 ? Math.min(colors[colors.length - 1].position + 10, 100) : 50;
        setColors([...colors, { color: '#888888', position: newPosition }]);
      };

      const removeColor = (index) => {
        if (colors.length > 2) {
          setColors(colors.filter((_, i) => i !== index));
        }
      };

      const updateColor = (index, field, value) => {
        const newColors = [...colors];
        newColors[index][field] = value;
        setColors(newColors);
      };

      const generateGradient = () => {
        const sortedColors = [...colors].sort((a, b) => a.position - b.position);
        const colorStops = sortedColors.map(c => `${c.color} ${c.position}%`).join(', ');
        
        if (gradientType === 'linear') {
          return `linear-gradient(${angle}deg, ${colorStops})`;
        } else if (gradientType === 'radial') {
          return `radial-gradient(circle, ${colorStops})`;
        } else {
          return `conic-gradient(from 0deg, ${colorStops})`;
        }
      };

      const generateCSS = () => {
        return `background: ${generateGradient()};`;
      };

      const copyToClipboard = () => {
        navigator.clipboard.writeText(generateCSS());
        alert('CSS copied to clipboard!');
      };

      return (
        <div className={`min-h-screen ${currentTheme.bg} p-8`}>
          <div className={`max-w-6xl mx-auto ${currentTheme.card} rounded-lg shadow-lg p-8 border ${currentTheme.border}`}>
            <h1 className={`text-4xl font-bold mb-8 ${currentTheme.text}`}>Gradient Generator</h1>
            
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <div className="space-y-6">
                <div>
                  <label className={`block text-sm font-medium mb-2 ${currentTheme.text}`}>Color Mode</label>
                  <div className="grid grid-cols-4 gap-2">
                    {Object.keys(colorModes).map((mode) => (
                      <button
                        key={mode}
                        onClick={() => setColorMode(mode)}
                        className={`px-4 py-2 rounded-lg text-sm font-medium capitalize transition-all ${
                          colorMode === mode
                            ? 'bg-blue-500 text-white shadow-md'
                            : `${currentTheme.card} border ${currentTheme.border} ${currentTheme.text} hover:bg-opacity-70`
                        }`}
                      >
                        {mode}
                      </button>
                    ))}
                  </div>
                </div>

                <div>
                  <label className={`block text-sm font-medium mb-2 ${currentTheme.text}`}>Gradient Type</label>
                  <div className="flex gap-2">
                    {['linear', 'radial', 'conic'].map((type) => (
                      <button
                        key={type}
                        onClick={() => setGradientType(type)}
                        className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${
                          gradientType === type
                            ? 'bg-blue-500 text-white'
                            : `bg-gray-100 ${currentTheme.text} hover:bg-gray-200`
                        }`}
                      >
                        {type.charAt(0).toUpperCase() + type.slice(1)}
                      </button>
                    ))}
                  </div>
                </div>

                {gradientType === 'linear' && (
                  <div>
                    <label className={`block text-sm font-medium mb-2 ${currentTheme.text}`}>Angle: {angle}Â°</label>
                    <input
                      type="range"
                      min="0"
                      max="360"
                      value={angle}
                      onChange={(e) => setAngle(parseInt(e.target.value))}
                      className="w-full"
                    />
                  </div>
                )}

                <div>
                  <div className="flex justify-between items-center mb-2">
                    <label className={`block text-sm font-medium ${currentTheme.text}`}>Color Stops</label>
                    <button
                      onClick={addColor}
                      className="flex items-center gap-1 px-3 py-1 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600 transition-colors"
                    >
                      <Plus size={16} />
                      Add Color
                    </button>
                  </div>
                  
                  <div className="space-y-3">
                    {colors.map((stop, index) => (
                      <div key={index} className={`flex items-center gap-3 p-3 rounded-lg border ${currentTheme.border}`}>
                        <input
                          type="color"
                          value={stop.color}
                          onChange={(e) => updateColor(index, 'color', e.target.value)}
                          className="w-12 h-12 rounded cursor-pointer"
                        />
                        <input
                          type="text"
                          value={stop.color}
                          onChange={(e) => updateColor(index, 'color', e.target.value)}
                          className="w-24 px-2 py-1 border border-gray-300 rounded text-sm"
                        />
                        <div className="flex-1">
                          <input
                            type="range"
                            min="0"
                            max="100"
                            value={stop.position}
                            onChange={(e) => updateColor(index, 'position', parseInt(e.target.value))}
                            className="w-full"
                          />
                          <div className={`text-xs ${currentTheme.text} mt-1`}>{stop.position}%</div>
                        </div>
                        {colors.length > 2 && (
                          <button
                            onClick={() => removeColor(index)}
                            className="p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors"
                          >
                            <Trash2 size={18} />
                          </button>
                        )}
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              <div className="space-y-6">
                <div>
                  <label className={`block text-sm font-medium mb-2 ${currentTheme.text}`}>Preview</label>
                  <div
                    className="w-full h-64 rounded-lg shadow-lg"
                    style={{ background: generateGradient() }}
                  />
                </div>

                <div>
                  <label className={`block text-sm font-medium mb-2 ${currentTheme.text}`}>CSS Code</label>
                  <div className={`${currentTheme.card} border ${currentTheme.border} rounded-lg p-4 relative`}>
                    <button
                      onClick={copyToClipboard}
                      className="absolute top-2 right-2 p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                      title="Copy to clipboard"
                    >
                      <Copy size={16} />
                    </button>
                    <pre className={`text-sm ${currentTheme.text} overflow-x-auto`}>{generateCSS()}</pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Initialize the gradient generator (but don't render yet)
    window.initGradientGenerator = function() {
      ReactDOM.render(<GradientGenerator />, document.getElementById('gradient-root'));
    };
  </script>

  <script>
    function openGradientModal() {
      document.getElementById('gradient-modal').classList.add('active');
      if (typeof window.initGradientGenerator === 'function') {
        window.initGradientGenerator();
      }
    }

    function closeGradientModal() {
      document.getElementById('gradient-modal').classList.remove('active');
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('gradient-modal');
      if (event.target === modal) {
        closeGradientModal();
      }
    }
  </script>

  <script type="module" src="main.js"></script>
</body>
</html>